<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worksheet</title>
    <style>
        table {width: 100%; border-collapse: collapse;}

        th,td {border-top: 1px solid #5f64b8; border-bottom: 1px solid #5f64b8; border-right: 1px solid #5f64b8; padding: 4px; text-align: center;}

        td:nth-child(2){text-align: left;}
        td:nth-child(5){text-align: left;}

        th,td:last-child {border-right: unset;}

        th {background-color: #d7d9fc; border-right: 1px solid #5f64b8;}
        th:last-child{border-right: unset;}

        tbody tr:hover {background-color: #ecedfe; transition: .3s;}

        a{color: #333;}
        
        input {width: 90%;}
        .status-1 { background-color: lightblue; }  /* ì™„ë£Œ */
        .status-2 { background-color: yellow; }     /* ìˆ˜ì • */
        .status-3 { background-color: lightgreen; } /* ì¶”ê°€ */
        .status-4 { background-color: lightcoral; } /* ì œì‘ì¤‘ */

    </style>
</head>

<body>
    <h2>ê·¼íƒœê´€ë¦¬ì–´í”Œ ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬âŒšğŸ”¨âœ¨</h2>
    <table id="worksheetTable">
        <thead>
            <tr>
                <th style="width: 50px;">No.</ths>
                <th>í™”ë©´ëª…</th>
                <th style="width: 140px;">ìì›ë²ˆí˜¸</th>
                <th style="width: 140px;">í™”ë©´í˜•íƒœ</th>
                <th>í™”ë©´ë³´ê¸°</th>
                <th style="width: 140px;">ì‘ì„±ì¼ì</th>
                <th style="width: 140px;">ì‘ì„±ì</th>
                <th style="width: 140px;">ìƒíƒœ</th>
                <th style="width: 140px;">ìƒíƒœ ë³€ê²½</th>
            </tr>
        </thead>
        <tbody>
            <!-- tríƒœê·¸ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤! -->
            <tr>
                <td></td>
                <td>ë¡œê·¸ì¸ í˜ì´ì§€</td>
                <td>M10a00</td>
                <td>page</td>
                <td><a href="/M10a00.html" target="_blank">M10a00.html</td>
                <td>2025-02-08</td>
                <td>ê¹€ì†Œí¬</td>
                <td class="status-4">ì œì‘ì¤‘</td>
                <td><input type="number" min="1" max="4" placeholder="1~4 ì…ë ¥"></td>
            </tr>
            <tr>
                <td></td>
                <td>ê´€ë¦¬ ë©”ì¸</td>
                <td>M30a00</td>
                <td>page</td>
                <td><a href="/M30a00.html" target="_blank">M30a00.html</td>
                <td>2025-02-08</td>
                <td>ê¹€ì†Œí¬</td>
                <td class="status-4">ì œì‘ì¤‘</td>
                <td><input type="number" min="1" max="4" placeholder="1~4 ì…ë ¥"></td>
            </tr>
            <tr>
                <td></td>
                <td>ê´€ë¦¬ ë©”ì¸</td>
                <td>M30b00</td>
                <td>modal</td>
                <td><a href="/M30b00.html" target="_blank">M30b00.html</td>
                <td>2025-02-08</td>
                <td>ì†¡ìƒí¬</td>
                <td class="status-4">ì œì‘ì¤‘</td>
                <td><input type="number" min="1" max="4" placeholder="1~4 ì…ë ¥"></td>
            </tr>
            <tr>
                <td></td>
                <td>ê·¸ë£¹ ê´€ë¦¬</td>
                <td>M30c00</td>
                <td>page</td>
                <td><a href="/M30c00.html" target="_blank">M30c00.html</td>
                <td>2025-02-12</td>
                <td>ê¹€ì†Œí¬</td>
                <td class="status-4">ì œì‘ì¤‘</td>
                <td><input type="number" min="1" max="4" placeholder="1~4 ì…ë ¥"></td>
            </tr>
            <tr>
                <td></td>
                <td>ì§ì› ê´€ë¦¬</td>
                <td>M30e00</td>
                <td>page</td>
                <td><a href="/M30e00.html" target="_blank">M30e00.html</td>
                <td>2025-02-08</td>
                <td>ê¹€ì†Œí¬</td>
                <td class="status-4">ì œì‘ì¤‘</td>
                <td><input type="number" min="1" max="4" placeholder="1~4 ì…ë ¥"></td>
            </tr> 
            <tr>
                <td></td>
                <td>íœ´ê°€ ê´€ë¦¬</td>
                <td>M30f00</td>
                <td>page</td>
                <td><a href="/M30f00.html" target="_blank">M30f00.html</td>
                <td>2025-02-08</td>
                <td>ê¹€ì†Œí¬</td>
                <td class="status-4">ì œì‘ì¤‘</td>
                <td><input type="number" min="1" max="4" placeholder="1~4 ì…ë ¥"></td>
            </tr>
        </tbody>
    </table>

    <script>
        const statusMap = {
            1: "ì™„ë£Œ",
            2: "ìˆ˜ì •",
            3: "ì¶”ê°€",
            4: "ì œì‘ì¤‘"
        };

        const statusClassMap = {
            1: "status-1", // ì™„ë£Œ (íŒŒë€ìƒ‰)
            2: "status-2", // ìˆ˜ì • (ë…¸ë€ìƒ‰)
            3: "status-3", // ì¶”ê°€ (ì—°ë‘ìƒ‰)
            4: "status-4"  // ì œì‘ì¤‘ (ë¹¨ê°„ìƒ‰)
        };

        function updateRowNumbers() {
            const rows = document.querySelectorAll("#worksheetTable tbody tr");
            rows.forEach((row, index) => {
                row.cells[0].textContent = index + 1; // ì²« ë²ˆì§¸ <td>ì— ë²ˆí˜¸ ìë™ ì…ë ¥
            });
        }

        function setupStatusChange() {
            const rows = document.querySelectorAll("#worksheetTable tbody tr");
            rows.forEach(row => {
                const statusCell = row.cells[7]; // ìƒíƒœê°’ì´ ë“¤ì–´ê°ˆ ì¹¸
                const inputField = row.cells[8].querySelector("input"); // ìƒíƒœ ë³€ê²½ input

                inputField.addEventListener("change", function () {
                    const value = parseInt(this.value);
                    if (statusMap[value]) {
                        statusCell.textContent = statusMap[value]; // ìƒíƒœ ë³€ê²½

                        // ê¸°ì¡´ í´ë˜ìŠ¤ ì œê±° í›„ ìƒˆë¡œìš´ í´ë˜ìŠ¤ ì¶”ê°€
                        statusCell.className = "";
                        statusCell.classList.add(statusClassMap[value]);
                    } else {
                        alert("1~4 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
                    }
                });
            });
        }

        // ì´ˆê¸° ì‹¤í–‰
        updateRowNumbers();
        setupStatusChange();

        // ìƒˆë¡œìš´ í–‰ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸
        const observer = new MutationObserver(() => {
            updateRowNumbers();
            setupStatusChange();
        });

        observer.observe(document.querySelector("#worksheetTable tbody"), { childList: true });
    </script>

</body>

</html>